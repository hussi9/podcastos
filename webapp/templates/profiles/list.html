{% extends "base.html" %}

{% block title %}Podcast Profiles - Podcast Studio{% endblock %}

{% block content %}
<div class="space-y-6">
    <!-- Header -->
    <div class="flex justify-between items-center bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
        <div>
            <h1 class="text-2xl font-bold text-slate-900 tracking-tight">Podcast Profiles</h1>
            <p class="text-slate-500 mt-1">Manage your podcast configurations and workflows</p>
        </div>
        <a href="/profiles/new"
            class="bg-indigo-600 text-white px-5 py-2.5 rounded-lg hover:bg-indigo-700 transition flex items-center shadow-sm font-medium text-sm">
            <i class="fas fa-plus mr-2"></i> New Profile
        </a>
    </div>

    <!-- Profiles Grid -->
    {% if profiles %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for profile in profiles %}
        <div
            class="bg-white border border-slate-200 rounded-xl p-5 hover:border-indigo-300 transition group relative overflow-hidden flex flex-col h-full">
            <!-- Accent Bar -->
            <div class="absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition">
            </div>

            <div class="flex items-start justify-between mb-3">
                <h3 class="font-semibold text-lg text-slate-900 group-hover:text-indigo-700 transition">{{ profile.name
                    }}</h3>
                <span
                    class="px-2 py-0.5 text-xs rounded-full font-medium border {% if profile.is_active %}bg-green-50 text-green-700 border-green-200{% else %}bg-slate-100 text-slate-600 border-slate-200{% endif %}">
                    {{ 'Active' if profile.is_active else 'Inactive' }}
                </span>
            </div>

            <p class="text-slate-500 text-sm mb-6 flex-1">{{ profile.description[:100] }}{% if
                profile.description|length > 100 %}...{% endif %}</p>

            <div class="flex items-center text-xs text-slate-400 mb-5 gap-4">
                <span class="flex items-center"><i class="fas fa-users mr-1.5 opacity-70"></i> {{ profile.hosts|length
                    }} Hosts</span>
                <span class="flex items-center"><i class="fas fa-clock mr-1.5 opacity-70"></i> {{
                    profile.target_duration_minutes }} min</span>
                <span class="flex items-center"><i class="fas fa-rss mr-1.5 opacity-70"></i> {{ profile.sources|length
                    }} Sources</span>
            </div>

            <div class="flex gap-2">
                <a href="/profiles/{{ profile.id }}/generate"
                    class="flex-1 bg-slate-900 text-white py-2 rounded-lg text-xs font-medium text-center hover:bg-slate-800 transition">
                    <i class="fas fa-bolt mr-1"></i> Generate
                </a>
                <a href="/profiles/{{ profile.id }}"
                    class="flex-1 bg-slate-100 text-slate-700 py-2 rounded-lg text-xs font-medium text-center hover:bg-slate-200 transition">
                    <i class="fas fa-cog mr-1"></i> Manage
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="bg-white border border-dashed border-slate-300 rounded-xl p-12 text-center">
        <div class="w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-microphone-slash text-slate-300 text-2xl"></i>
        </div>
        <h3 class="text-slate-900 font-medium mb-1">No Profiles Yet</h3>
        <p class="text-slate-500 text-sm mb-4">Create your first podcast persona to get started.</p>
        <a href="/profiles/new" class="inline-flex items-center text-indigo-600 font-medium text-sm hover:underline">
            Create Profile <i class="fas fa-arrow-right ml-1"></i>
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}